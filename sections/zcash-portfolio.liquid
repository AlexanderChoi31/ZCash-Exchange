{{ 'zcash-theme.css' | asset_url | stylesheet_tag }}

<section class="zcash-section color-{{ section.settings.color_scheme }}">
  <div class="page-width">
    <div class="zcash-section-header">
      <div>
        {%- if section.settings.eyebrow != blank -%}
          <p class="zcash-section-header__eyebrow">{{ section.settings.eyebrow }}</p>
        {%- endif -%}
        <h2 class="zcash-section-header__title">{{ section.settings.heading }}</h2>
      </div>
      {%- if section.settings.description != blank -%}
        <p>{{ section.settings.description }}</p>
      {%- endif -%}
    </div>

    <div class="zcash-grid">
      <div class="zcash-card">
        <div class="zcash-portfolio__summary">
          <div class="zcash-summary-card">
            <span class="zcash-summary-card__label">Portfolio summary</span>
            <span class="zcash-summary-card__value">{{ section.settings.summary_total }}</span>
            <span>{{ section.settings.summary_change }}</span>
          </div>
          <div class="zcash-summary-card">
            <span class="zcash-summary-card__label">Wallet balance</span>
            <span class="zcash-summary-card__value">{{ section.settings.summary_wallet }}</span>
            <span>{{ section.settings.summary_wallet_detail }}</span>
          </div>
          <div class="zcash-summary-card">
            <span class="zcash-summary-card__label">Shielded activity</span>
            <span class="zcash-summary-card__value">{{ section.settings.summary_shielded }}</span>
            <span>{{ section.settings.summary_shielded_detail }}</span>
          </div>
        </div>
      </div>
    </div>

    {%- assign holdings = section.blocks | where: 'type', 'holding' -%}
    {%- assign transactions = section.blocks | where: 'type', 'transaction' -%}

    <div class="zcash-grid zcash-grid--two" style="margin-top: 1.5rem;">
      <div class="zcash-card">
        <h3>Portfolio allocation</h3>
        {%- if holdings.size > 0 -%}
          <ul class="list-unstyled" role="list">
            {%- for block in holdings -%}
              <li class="portfolio-holding" {{ block.shopify_attributes }}>
                <p><strong>{{ block.settings.asset }}</strong> · {{ block.settings.allocation }}</p>
                <p>{{ block.settings.detail }}</p>
              </li>
            {%- endfor -%}
          </ul>
        {%- else -%}
          <p>70% · Shielded ZEC<br>20% · Transparent ZEC<br>10% · USD test balance</p>
        {%- endif -%}
      </div>

      <div class="zcash-card zcash-portfolio__table">
        <h3>Transaction history (fictional)</h3>
        <table class="zcash-table">
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Action</th>
              <th scope="col">Amount</th>
              <th scope="col">Status</th>
            </tr>
          </thead>
          <tbody>
            {%- if transactions.size > 0 -%}
              {%- for block in transactions -%}
                <tr {{ block.shopify_attributes }}>
                  <td>{{ block.settings.date }}</td>
                  <td>{{ block.settings.action }}</td>
                  <td>{{ block.settings.amount }}</td>
                  <td>{{ block.settings.status }}</td>
                </tr>
              {%- endfor -%}
            {%- else -%}
              <tr>
                <td>08:20 · Today</td>
                <td>Deposit ZEC</td>
                <td>+120.00 ZEC</td>
                <td>Shielded</td>
              </tr>
              <tr>
                <td>Yesterday</td>
                <td>Convert to USD</td>
                <td>-50.00 ZEC</td>
                <td>Settled</td>
              </tr>
              <tr>
                <td>2 days ago</td>
                <td>Withdraw ZEC</td>
                <td>-30.00 ZEC</td>
                <td>Pending</td>
              </tr>
            {%- endif -%}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Zcash portfolio",
  "settings": [
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow",
      "default": "Wallet & portfolio"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Simulated balances"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Use fictional holdings, wallet balances, and transaction history to walk through common customer journeys."
    },
    {
      "type": "text",
      "id": "summary_total",
      "label": "Portfolio total",
      "default": "$182,440"
    },
    {
      "type": "text",
      "id": "summary_change",
      "label": "Portfolio change copy",
      "default": "+$4,210 · past 24 hours"
    },
    {
      "type": "text",
      "id": "summary_wallet",
      "label": "Wallet balance value",
      "default": "1,245.82 ZEC"
    },
    {
      "type": "text",
      "id": "summary_wallet_detail",
      "label": "Wallet balance detail",
      "default": "Includes shielded + transparent"
    },
    {
      "type": "text",
      "id": "summary_shielded",
      "label": "Shielded stat value",
      "default": "68% shielded"
    },
    {
      "type": "text",
      "id": "summary_shielded_detail",
      "label": "Shielded stat detail",
      "default": "Of last 40 transfers"
    },
    {
      "type": "select",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "background-1",
      "options": [
        { "value": "background-1", "label": "Background 1" },
        { "value": "background-2", "label": "Background 2" },
        { "value": "inverse", "label": "Inverse" },
        { "value": "accent-1", "label": "Accent 1" },
        { "value": "accent-2", "label": "Accent 2" }
      ]
    }
  ],
  "blocks": [
    {
      "type": "holding",
      "name": "Holding",
      "settings": [
        { "type": "text", "id": "asset", "label": "Asset", "default": "ZEC · Shielded" },
        { "type": "text", "id": "allocation", "label": "Allocation", "default": "50%" },
        { "type": "text", "id": "detail", "label": "Detail", "default": "Long-term cold storage" }
      ]
    },
    {
      "type": "transaction",
      "name": "Transaction",
      "settings": [
        { "type": "text", "id": "date", "label": "Date", "default": "Today · 08:20" },
        { "type": "text", "id": "action", "label": "Action", "default": "Deposit ZEC" },
        { "type": "text", "id": "amount", "label": "Amount", "default": "+120.00 ZEC" },
        { "type": "text", "id": "status", "label": "Status", "default": "Shielded" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Zcash portfolio",
      "blocks": [
        { "type": "holding" },
        { "type": "holding" },
        { "type": "transaction" },
        { "type": "transaction" }
      ]
    }
  ]
}
{% endschema %}
